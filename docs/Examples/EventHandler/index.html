<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>EventHandler (Examples.EventHandler)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="..">Up</a> â€“ <a href="../">Examples</a> &#x00BB; EventHandler</nav><h1>Module <code>EventHandler</code></h1></header><dl><dt class="spec value" id="val-name"><a href="#val-name" class="anchor"></a><code><span class="keyword">let </span>name: string<span class="keyword">;</span></code></dt></dl><dl><dt><code><span class="keyword">type </span>ReActor.Message.t<span class="keyword"> += </span></code><code><span class="extension">Event</span>(Game_FFI.Event.data)</code><code><span class="keyword"> | </span></code><code><span class="extension">Subscribe</span>(Game_FFI.Event.kind<span class="keyword">, </span>ReActor.Pid.t)</code><code><span class="keyword"> | </span></code><code><span class="extension">Unsubscribe</span>(Game_FFI.Event.kind<span class="keyword">, </span>ReActor.Pid.t)</code><span class="keyword">;</span></dt></dl><dl><dt class="spec type" id="type-state"><a href="#type-state" class="anchor"></a><code><span class="keyword">type </span>state</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-state.node" class="anchored"><td class="def field"><a href="#type-state.node" class="anchor"></a><code>node: Game_FFI.DOM.node,</code></td></tr><tr id="type-state.handlers" class="anchored"><td class="def field"><a href="#type-state.handlers" class="anchor"></a><code>handlers: Game_FFI.Event.Map.t(Game_FFI.Event.handler),</code></td></tr><tr id="type-state.subscribers" class="anchored"><td class="def field"><a href="#type-state.subscribers" class="anchor"></a><code>subscribers: Game_FFI.Event.Map.t(list(ReActor.Pid.t)),</code></td></tr></table><code>}</code><span class="keyword">;</span></dt></dl><dl><dt class="spec value" id="val-fanout"><a href="#val-fanout" class="anchor"></a><code><span class="keyword">let </span>fanout: Game_FFI.Event.Map.t(list(ReActor_Process.Pid.t)) <span>=&gt;</span> Game_FFI.Event.event <span>=&gt;</span> unit<span class="keyword">;</span></code></dt><dd><p>Find the subscribers for the given event name, and forward the event to them</p></dd></dl><dl><dt class="spec value" id="val-subscribe"><a href="#val-subscribe" class="anchor"></a><code><span class="keyword">let </span>subscribe: Game_FFI.Event.Map.key <span>=&gt;</span> <span class="type-var">'a</span> <span>=&gt;</span> Game_FFI.Event.Map.t(list(<span class="type-var">'a</span>)) <span>=&gt;</span> Game_FFI.Event.Map.t(list(<span class="type-var">'a</span>))<span class="keyword">;</span></code></dt><dt class="spec value" id="val-unsubscribe"><a href="#val-unsubscribe" class="anchor"></a><code><span class="keyword">let </span>unsubscribe: Game_FFI.Event.Map.key <span>=&gt;</span> <span class="type-var">'a</span> <span>=&gt;</span> Game_FFI.Event.Map.t(list(<span class="type-var">'a</span>)) <span>=&gt;</span> Game_FFI.Event.Map.t(list(<span class="type-var">'a</span>))<span class="keyword">;</span></code></dt><dt class="spec value" id="val-setupHandlers"><a href="#val-setupHandlers" class="anchor"></a><code><span class="keyword">let </span>setupHandlers: Game_FFI.Event.Map.key <span>=&gt;</span> Game_FFI.DOM.node <span>=&gt;</span> Game_FFI.Event.Map.t(Game_FFI.Event.handler) <span>=&gt;</span> Game_FFI.Event.Map.t(list(ReActor_Process.Pid.t)) <span>=&gt;</span> Game_FFI.Event.Map.t(Game_FFI.Event.handler)<span class="keyword">;</span></code></dt><dt class="spec value" id="val-continue"><a href="#val-continue" class="anchor"></a><code><span class="keyword">let </span>continue: Game_FFI.Event.Map.key <span>=&gt;</span> <a href="#type-state">state</a> <span>=&gt;</span> Game_FFI.Event.Map.t(list(ReActor.Pid.t)) <span>=&gt;</span> ReActor.Process.behavior(<a href="#type-state">state</a>)<span class="keyword">;</span></code></dt><dd><p>Update the handler for the newly subscribed/unsubscribed event and continue</p></dd></dl><dl><dt class="spec value" id="val-handleMessage"><a href="#val-handleMessage" class="anchor"></a><code><span class="keyword">let </span>handleMessage: <a href="#type-state">state</a> <span>=&gt;</span> ReActor.Message.t <span>=&gt;</span> ReActor.Process.behavior(<a href="#type-state">state</a>)<span class="keyword">;</span></code></dt><dt class="spec value" id="val-loop"><a href="#val-loop" class="anchor"></a><code><span class="keyword">let </span>loop: ReActor.Process.f(<a href="#type-state">state</a>)<span class="keyword">;</span></code></dt><dt class="spec value" id="val-start"><a href="#val-start" class="anchor"></a><code><span class="keyword">let </span>start: unit <span>=&gt;</span> ReActor_Process.Pid.t<span class="keyword">;</span></code></dt></dl></div></body></html>