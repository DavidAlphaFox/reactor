<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>ReActor_Scheduler (ReActor.ReActor_Scheduler)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="..">Up</a> â€“ <a href="../">ReActor</a> &#x00BB; ReActor_Scheduler</nav><h1>Module <code>ReActor_Scheduler</code></h1></header><article class="spec module" id="module-Sid"><a href="#module-Sid" class="anchor"></a><code><span class="keyword">module </span><a href="Sid">Sid</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></article><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>t</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-t.id" class="anchored"><td class="def field"><a href="#type-t.id" class="anchor"></a><code>id : <a href="Sid#type-t">Sid.t</a>;</code></td><td class="doc"><p>The schedulers identifier</p></td></tr><tr id="type-t.processes" class="anchored"><td class="def field"><a href="#type-t.processes" class="anchor"></a><code>processes : <a href="../ReActor_Process#type-t">ReActor_Process.t</a> list;</code></td><td class="doc"><p>A list of processes currently being executed in this scheduler</p></td></tr><tr id="type-t.process_count" class="anchored"><td class="def field"><a href="#type-t.process_count" class="anchor"></a><code>process_count : int;</code></td><td class="doc"><p>The number of processes this scheduler has ever executed</p></td></tr><tr id="type-t.tracer" class="anchored"><td class="def field"><a href="#type-t.tracer" class="anchor"></a><code>tracer : <a href="../ReActor_Tracer#type-t">ReActor_Tracer.t</a> option;</code></td><td class="doc"><p>Optional tracer to inspect messages</p></td></tr></table><code>}</code><code></code></dt><dd><p>Scheduler type</p></dd></dl><dl><dt class="spec value" id="val-nextPid"><a href="#val-nextPid" class="anchor"></a><code><span class="keyword">val </span>nextPid : <a href="#type-t">t</a> <span>&#8209;&gt;</span> <a href="../ReActor_Process/Pid#type-t">ReActor_Process.Pid.t</a></code></dt><dt class="spec value" id="val-byProcessCount"><a href="#val-byProcessCount" class="anchor"></a><code><span class="keyword">val </span>byProcessCount : <a href="#type-t">t</a> Pervasives.ref <span>&#8209;&gt;</span> <a href="#type-t">t</a> Pervasives.ref <span>&#8209;&gt;</span> int</code></dt><dt class="spec value" id="val-leastBusy"><a href="#val-leastBusy" class="anchor"></a><code><span class="keyword">val </span>leastBusy : <a href="#type-t">t</a> Pervasives.ref list <span>&#8209;&gt;</span> <a href="#type-t">t</a> Pervasives.ref</code></dt><dt class="spec value" id="val-pidToSid"><a href="#val-pidToSid" class="anchor"></a><code><span class="keyword">val </span>pidToSid : <a href="../ReActor_Process/Pid#type-t">ReActor_Process.Pid.t</a> <span>&#8209;&gt;</span> <a href="Sid#type-t">Sid.t</a></code></dt><dt class="spec value" id="val-findById"><a href="#val-findById" class="anchor"></a><code><span class="keyword">val </span>findById : <a href="Sid#type-t">Sid.t</a> <span>&#8209;&gt;</span> <a href="#type-t">t</a> Pervasives.ref list <span>&#8209;&gt;</span> <a href="#type-t">t</a> Pervasives.ref</code></dt><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val </span>make : string <span>&#8209;&gt;</span> <a href="#type-t">t</a></code></dt><dd><p>Create an empty scheduler given a <code>node_name</code>.</p><p>Each scheduler will have a randomized 7-char hex id.</p></dd></dl><dl><dt class="spec value" id="val-spawn"><a href="#val-spawn" class="anchor"></a><code><span class="keyword">val </span>spawn : <span class="type-var">'s</span> <a href="../ReActor_Process#type-f">ReActor_Process.f</a> <span>&#8209;&gt;</span> <span class="type-var">'s</span> <span>&#8209;&gt;</span> <a href="#type-t">t</a> Pervasives.ref <span>&#8209;&gt;</span> <a href="../ReActor_Process/Pid#type-t">ReActor_Process.Pid.t</a></code></dt><dd><p>Create a processes by calculating the next available <code>pid</code>, spawning it, and allocating it in the <code>scheduler</code> list of processes.</p><p>Returns the newly allocated <code>pid</code>.</p></dd></dl><dl><dt class="spec value" id="val-exit"><a href="#val-exit" class="anchor"></a><code><span class="keyword">val </span>exit : <a href="../ReActor_Process/Pid#type-t">ReActor_Process.Pid.t</a> <span>&#8209;&gt;</span> <a href="#type-t">t</a> Pervasives.ref <span>&#8209;&gt;</span> unit</code></dt><dd><p>Marks a process as Dead, so it won't continue executing on it's next scheduled computation.</p></dd></dl><dl><dt class="spec value" id="val-send"><a href="#val-send" class="anchor"></a><code><span class="keyword">val </span>send : <a href="../ReActor_Process/Pid#type-t">ReActor_Process.Pid.t</a> <span>&#8209;&gt;</span> <a href="../ReActor_Process/Message#type-t">ReActor_Process.Message.t</a> <span>&#8209;&gt;</span> <a href="#type-t">t</a> Pervasives.ref <span>&#8209;&gt;</span> unit</code></dt><dd><p>Finds a process by <code>pid</code> in the list of processes of the <code>scheduler</code> and writes the <code>message</code> to it's mailbox.</p><p>If a <code>tracer</code> has been enabled, executes it's <code>trace</code> function before.</p></dd></dl><dl><dt class="spec value" id="val-trace"><a href="#val-trace" class="anchor"></a><code><span class="keyword">val </span>trace : <a href="../ReActor_Tracer#type-t">ReActor_Tracer.t</a> <span>&#8209;&gt;</span> <a href="#type-t">t</a> Pervasives.ref <span>&#8209;&gt;</span> unit</code></dt><dd><p>Sets up a <code>tracer</code> in the given <code>scheduler</code>.</p><p>Warning: tracing can be incredibly expensive because _every message_ that goes through a <code>scheduler</code> will be checked for tracing before being delivered. Use with care.</p><p>A <code>tracer</code> will be scheduled for removal in <code>timeout</code> ms.</p></dd></dl></div></body></html>